import{f as n,g as c,h as u,o as p,i}from"./index.91a23ceb.js";import{u as m}from"./user.e7adfe86.js";import{s as _,a as h}from"./api.08a46ea5.js";const w={__name:"auth",setup(k){const t=n(),o=m(),r=async()=>{try{if(!document.cookie.replace(/(?:(?:^|.*;\s*)twitterToken\s*=\s*([^;]*).*$)|^.*$/,"$1"))return t.push("/login");_();const s=await h();s.data.status==="success"&&(o.setUser(s.data.data.user),t.push("/auth/posts"))}catch{t.push("/login")}};return c(()=>{r()}),(e,s)=>{const a=u("router-view");return p(),i(a)}}};export{w as default};
