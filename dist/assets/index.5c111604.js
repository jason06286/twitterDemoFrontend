import{u as M,C as P,r as v,H as L,o as s,c as o,b as i,e,f as n,F as m,h as b,d as c,I as _,t as r,V as N,W as T,n as C,O as j,P as A,y as B,X as U,Y as D,S as z}from"./index.0cb84ca1.js";const E={class:"container m-auto mt-0 mb-14 sm:mt-14 sm:mb-0"},H={class:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4"},I=e("div",{class:"hidden 2xl:block"},null,-1),O={class:"col-auto ml-0 text-gray-400 sm:mt-8 lg:col-span-2 lg:ml-5 xl:ml-0"},W={class:"rounded-md bg-black p-5"},X=e("h3",{class:"mb-3 text-xl font-bold"},"\u8FFD\u8E64\u540D\u55AE",-1),Y={class:"h-10 w-10 overflow-hidden rounded-full sm:h-12 sm:w-12"},q=["src"],G={class:"ml-3 space-y-1 text-xs sm:text-sm"},J={class:"text-gray-500"},K={class:"ml-auto"},Q=["onClick"],R={key:1,class:"py-5"},Z=e("p",{class:"text-center"},"\u5C1A\u7121\u8FFD\u8E64\u4EFB\u4F55\u4EBA",-1),tt=[Z],et=_("\u8AB0\u8FFD\u8E64\u6211"),st={key:0,class:"flex h-full w-[300px] items-center justify-center text-sm"},ot={class:"mr-3 h-10 w-10 overflow-hidden rounded-full"},nt=["src"],lt=["onClick"],it=e("span",null,"\u53D6\u6D88\u8FFD\u8E64",-1),at=[it],dt=["onClick"],ct=e("span",null,"\u8FFD\u8E64",-1),rt=[ct],_t=_("\u8FFD\u8E64\u540D\u55AE"),ut={key:0,class:"flex h-full w-[300px] items-center justify-center text-sm"},mt={class:"mr-3 h-10 w-10 overflow-hidden rounded-full"},ht=["src"],gt=["onClick"],pt=e("span",null,"\u53D6\u6D88\u8FFD\u8E64",-1),ft=[pt],vt=["onClick"],bt=e("span",null,"\u8FFD\u8E64",-1),kt=[bt],wt={__name:"index",setup(yt){const h=M(),l=P(),k=v(!1),y=v(!1),g=v(!1),F=async()=>{g.value=!0;try{await l.getFollow(h.user.id)}catch(a){console.log(a)}window.scrollTo({top:0,left:0,behavior:"smooth"}),g.value=!1},x=a=>l.following.filter(p=>p.user._id===a).length;return L(async()=>{await F()}),(a,d)=>{const p=j,$=A,S=B,f=U("router-link"),V=D,w=z;return s(),o(m,null,[i(p,{"is-loading":g.value},null,8,["is-loading"]),i($),e("div",E,[e("div",H,[I,e("div",O,[e("div",W,[X,i(S),n(l).following.length?(s(!0),o(m,{key:0},b(n(l).following,t=>(s(),o("div",{key:t.user._id,class:"mb-5 flex items-center"},[e("div",Y,[e("img",{src:t.user.photo,alt:"avatar"},null,8,q)]),e("div",G,[i(f,{to:`/profile/${t.user._id}`,class:"text-base font-bold sm:text-xl"},{default:c(()=>[_(r(t.user.name),1)]),_:2},1032,["to"]),e("p",null,"\u60A8\u5DF2\u8FFD\u8E64 "+r(n(N)(t.followAt)),1),e("p",J," \u8FFD\u8E64\u6642\u9593: "+r(n(T)(t.followAt)),1)]),e("div",K,[e("button",{type:"button",class:"cancel-btn bg-red-900/50",onClick:u=>n(l).toggleFollow(t.user._id)}," \u53D6\u6D88\u8FFD\u8E64 ",8,Q)])]))),128)):(s(),o("div",R,tt))])]),i(V,{onPublishPost:d[0]||(d[0]=t=>a.isShowAddPostModal=!0)})])]),i(w,{modelValue:y.value,"onUpdate:modelValue":d[1]||(d[1]=t=>y.value=t)},{title:c(()=>[et]),default:c(()=>[n(l).follower.length?(s(!0),o(m,{key:1},b(a.follower,t=>(s(),o("div",{key:t._id,class:"mb-3 flex w-[300px] items-center"},[e("div",ot,[e("img",{src:t.user.photo,alt:"avatar"},null,8,nt)]),i(f,{class:"font-bold",to:`/profile/${t.user._id}`},{default:c(()=>[_(r(t.user.name),1)]),_:2},1032,["to"]),x(t.user._id)?(s(),o("button",{key:0,type:"button",class:"cancel-btn ml-auto bg-red-900/50",onClick:u=>n(l).toggleFollow(t.user._id)},at,8,lt)):(s(),o("button",{key:1,type:"button",class:C(["confirm-btn ml-auto",n(h).user.id===t.user._id&&"hidden"]),onClick:u=>n(l).toggleFollow(t.user._id)},rt,10,dt))]))),128)):(s(),o("div",st," \u9084\u6C92\u6709\u4EFB\u4F55\u4EBA\u8FFD\u8E64 "))]),_:1},8,["modelValue"]),i(w,{modelValue:k.value,"onUpdate:modelValue":d[2]||(d[2]=t=>k.value=t)},{title:c(()=>[_t]),default:c(()=>[n(l).following.length?(s(!0),o(m,{key:1},b(a.following,t=>(s(),o("div",{key:t._id,class:"mb-3 flex w-[300px] items-center"},[e("div",mt,[e("img",{src:t.user.photo,alt:"avatar"},null,8,ht)]),i(f,{class:"font-bold",to:`/profile/${t.user._id}`},{default:c(()=>[_(r(t.user.name),1)]),_:2},1032,["to"]),x(t.user._id)?(s(),o("button",{key:0,type:"button",class:"cancel-btn ml-auto bg-red-900/50",onClick:u=>n(l).toggleFollow(t.user._id)},ft,8,gt)):(s(),o("button",{key:1,type:"button",class:C(["confirm-btn ml-auto",n(h).user.id===t.user._id&&"hidden"]),onClick:u=>n(l).toggleFollow(t.user._id)},kt,10,vt))]))),128)):(s(),o("div",ut," \u5C1A\u672A\u8FFD\u8E64\u4EFB\u4F55\u4EBA "))]),_:1},8,["modelValue"])],64)}}};export{wt as default};
